{% extends 'base.html' %}

{% block title %}Editar Casco - WHIP-HELMETS{% endblock %}

{% block content %}
<div class="container" style="max-width: 800px; margin: 50px auto;">
    <h1 style="color: #ffd700; margin-bottom: 30px;">Editar Casco</h1>
    
    <form method="POST" enctype="multipart/form-data" style="background: white; padding: 30px; border-radius: 8px;">
        <div style="margin-bottom: 20px;">
            <label style="display: block; margin-bottom: 5px; font-weight: bold;">Marca *</label>
            <input type="text" name="marca" value="{{ casco.marca }}" required style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px;">
        </div>

        <div style="margin-bottom: 20px;">
            <label style="display: block; margin-bottom: 5px; font-weight: bold;">Modelo *</label>
            <input type="text" name="nombre_modelo" value="{{ casco.nombre_modelo }}" required style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px;">
        </div>

        <div style="margin-bottom: 20px;">
            <label style="display: block; margin-bottom: 5px; font-weight: bold;">Tipo</label>
            <input type="text" name="tipo" value="{{ casco.tipo or '' }}" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px;">
        </div>

        <div style="margin-bottom: 20px;">
            <label style="display: block; margin-bottom: 5px; font-weight: bold;">Condici칩n *</label>
            <select name="condicion" required style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px;">
                <option value="nuevo" {% if casco.condicion == 'nuevo' %}selected{% endif %}>Nuevo</option>
                <option value="usado" {% if casco.condicion == 'usado' %}selected{% endif %}>Usado</option>
            </select>
        </div>

        <div style="margin-bottom: 20px;">
            <label style="display: block; margin-bottom: 5px; font-weight: bold;">Precio *</label>
            <input type="number" name="precio" value="{{ casco.precio }}" step="0.01" required style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px;">
        </div>

        <div style="margin-bottom: 20px;">
            <label style="display: block; margin-bottom: 5px; font-weight: bold;">Talle</label>
            <input type="text" name="talle" value="{{ casco.talle or '' }}" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px;">
        </div>

        <div style="margin-bottom: 20px;">
            <label style="display: block; margin-bottom: 5px; font-weight: bold;">Color</label>
            <input type="text" name="color" value="{{ casco.color or '' }}" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px;">
        </div>

        <div style="margin-bottom: 20px;">
            <label style="display: block; margin-bottom: 5px; font-weight: bold;">Cambiar imagen principal</label>
            {% if casco.imagen_principal %}
            <img src="{{ casco.imagen_principal }}" alt="Actual" style="max-width: 200px; margin-bottom: 10px; border: 1px solid #ddd; border-radius: 4px;">
            <p style="font-size: 12px; color: #666;">Imagen actual</p>
            {% endif %}
            <input type="file" name="imagen_principal" accept="image/*" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px;">
            <small style="color: #666;">Dej치 vac칤o para mantener la imagen actual</small>
        </div>

        <div style="margin-bottom: 20px;">
            <label style="display: block; margin-bottom: 5px; font-weight: bold;">Im치genes adicionales</label>
            <input type="file" name="imagenes_adicionales" accept="image/*" multiple style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px;">
            <label style="display: flex; align-items: center; gap: 10px; margin-top: 10px;">
                <input type="checkbox" name="mantener_imagenes" checked style="width: 20px; height: 20px;">
                <span>Mantener im치genes adicionales existentes</span>
            </label>
            <small style="color: #666;">Seleccion치 m칰ltiples im치genes (Ctrl/Cmd + click)</small>
        </div>


        <div style="margin-bottom: 20px;">
            <label style="display: block; margin-bottom: 5px; font-weight: bold;">Descripci칩n</label>
            <textarea name="descripcion" rows="4" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px;">{{ casco.descripcion or '' }}</textarea>
        </div>

        <div style="margin-bottom: 20px;">
            <label style="display: flex; align-items: center; gap: 10px;">
                <input type="checkbox" name="disponible" {% if casco.disponible %}checked{% endif %} style="width: 20px; height: 20px;">
                <span style="font-weight: bold;">Disponible</span>
            </label>
        </div>

        <div style="margin-bottom: 20px;">
            <label style="display: flex; align-items: center; gap: 10px;">
                <input type="checkbox" name="destacado" {% if casco.destacado %}checked{% endif %} style="width: 20px; height: 20px;">
                <span style="font-weight: bold;">Destacado</span>
            </label>
        </div>

        <div style="margin-bottom: 20px;">
            <label style="display: block; margin-bottom: 5px; font-weight: bold;">Link de Instagram (opcional)</label>
            <input type="url" name="instagram_url" value="{{ casco.instagram_url or '' }}" placeholder="https://instagram.com/p/ABC123..." style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px;">
        </div>

        <div style="display: flex; gap: 15px;">
            <button type="submit" style="flex: 1; padding: 12px; background: #ffd700; color: #000; border: none; border-radius: 4px; font-weight: bold; font-size: 16px; cursor: pointer;">
                游 Guardar Cambios
            </button>
            <a href="{{ url_for('admin_panel') }}" style="flex: 1; padding: 12px; background: #666; color: white; text-align: center; text-decoration: none; border-radius: 4px; font-weight: bold; font-size: 16px;">
                Cancelar
            </a>
        </div>
    </form>
</div>
{% endblock %}
